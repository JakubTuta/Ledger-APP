# ==================== Environment ====================
ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ==================== Auth Database ====================
AUTH_DB_HOST=ledger-postgres
AUTH_DB_PORT=5432
AUTH_DB_NAME=auth_db
AUTH_DB_USER=postgres
AUTH_DB_PASSWORD=postgres

# Connection pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ==================== Logs Database ====================
LOGS_DB_HOST=ledger-postgres-logs
LOGS_DB_PORT=5432
LOGS_DB_NAME=logs_db
LOGS_DB_USER=postgres
LOGS_DB_PASSWORD=postgres

# ==================== Redis ====================
REDIS_HOST=ledger-redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=password
REDIS_MAX_CONNECTIONS=50

# ==================== Auth Service ====================
AUTH_GRPC_PORT=50051
AUTH_SERVICE_HOST=ledger-auth-service
AUTH_SERVICE_PORT=50051

# ==================== Gateway Service ====================
GATEWAY_HTTP_PORT=8000
GATEWAY_HOST=0.0.0.0
GATEWAY_WORKERS=4

# gRPC Connection Pool
GRPC_POOL_SIZE=10
GRPC_KEEPALIVE_TIME_MS=10000
GRPC_KEEPALIVE_TIMEOUT_MS=5000
GRPC_TIMEOUT=5.0

# ==================== Ingestion Service ====================
INGESTION_GRPC_PORT=50052
INGESTION_SERVICE_HOST=ledger-ingestion
INGESTION_HOST=0.0.0.0

# Queue Configuration
QUEUE_MAX_DEPTH=100000
QUEUE_WORKER_TIMEOUT=30
QUEUE_BATCH_SIZE=1000
WORKER_COUNT=5

# Validation Limits
MAX_LOG_MESSAGE_LENGTH=10000
MAX_ERROR_MESSAGE_LENGTH=5000
MAX_STACK_TRACE_LENGTH=50000
MAX_ATTRIBUTES_SIZE=100000
MAX_BATCH_LOGS=1000
MAX_REQUEST_SIZE_MB=5
TIMESTAMP_FUTURE_TOLERANCE_MINUTES=5

# ==================== Query Service ====================
QUERY_GRPC_PORT=50053
QUERY_SERVICE_HOST=ledger-query
QUERY_HOST=0.0.0.0

# ==================== Security ====================
JWT_SECRET=bd544fd650afff80a2f9e9768f5674c3047321b8d2d2bacac7f05fac93366b29
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_ROUNDS=12

# API Keys - Lower cost for API keys (validated frequently)
API_KEY_BCRYPT_ROUNDS=10

# ==================== Rate Limiting ====================
DEFAULT_RATE_LIMIT_PER_MINUTE=1000
DEFAULT_RATE_LIMIT_PER_HOUR=50000
DEFAULT_DAILY_QUOTA=1000000

# Rate limit windows (seconds)
RATE_LIMIT_WINDOW_MINUTE=60
RATE_LIMIT_WINDOW_HOUR=3600

# ==================== Caching ====================
# API key cache: 5 minutes
API_KEY_CACHE_TTL=300
# Emergency cache for circuit breaker: 10 minutes
EMERGENCY_CACHE_TTL=600
# Default cache TTL
CACHE_TTL_SECONDS=300

# ==================== Circuit Breaker ====================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# ==================== Timeouts ====================
REDIS_TIMEOUT=1.0
REQUEST_TIMEOUT=30.0
